port: 7890
socks-port: 7891
redir-port: 7892
allow-lan: true
mode: rule
log-level: silent
external-controller: 0.0.0.0:9090
secret: ""  # å¦‚éœ€Webç®¡ç†ï¼Œå¡«å†™å¯†ç 

# DNSé…ç½®ï¼ˆé˜²æ±¡æŸ“ï¼‰
dns:
  enable: true
  listen: 0.0.0.0:53
  default-nameserver:
    - 114.114.114.114
  enhanced-mode: fake-ip
  fake-ip-filter:
    - '*.lan'
    - 'localhost.'
  nameserver:
    - https://dns.alidns.com/dns-query  # å›½å†…DNS
    - https://8.8.8.8/dns-query         # å›½å¤–DNSï¼ˆé˜²æ±¡æŸ“ï¼‰

proxy-groups:
  # --------------------------
  # 1. åœºæ™¯åŒ–ç­–ç•¥ç»„ï¼ˆä½ çš„16ä¸ªè‡ªå®šä¹‰ç»„ï¼‰
  # --------------------------
  - name: å›½å†…ç›´è¿
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: æµ·å¤–æµé‡
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: æµ·å¤–ä¿¡æ¯
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Linkedin
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: GitHub
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Bahamut
    type: select
    proxies:
      - DIRECT
      - å°æ¹¾-è‡ªåŠ¨

  - name: hanime1
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Spotify
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Steam
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Steamä¸‹è½½
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: æµ·å¤–æ¸¸æˆ
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: AI
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Apple
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: Microsoft
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - DIRECT
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼
  
  # --------------------------
  # 2. æ‰‹åŠ¨é€‰æ‹©ä¸æ•…éšœè½¬ç§»
  # --------------------------
  - name: æ‰‹åŠ¨é€‰æ‹©
    type: select
    proxies: []  # è®¢é˜…è½¬æ¢åè‡ªåŠ¨å¡«å……æ‰€æœ‰èŠ‚ç‚¹

  - name: æ•…éšœè½¬ç§»
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - æ‰‹åŠ¨é€‰æ‹©
      - æ‰€æœ‰-è‡ªåŠ¨
      - æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - å°æ—¥æ–°éŸ©-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
      - éŸ©å›½-è‡ªåŠ¨
      - ç¾å›½-è‡ªåŠ¨
      - å…¶ä»–-è‡ªåŠ¨
      - Kuromis
      - TAG
      - BoostNet
      - ç‰›é€¼

  # --------------------------
  # 3. åœ°åŒºè‡ªåŠ¨åˆ†ç»„ï¼ˆå«Emoji/å¤šå…³é”®è¯ï¼‰
  # --------------------------
  - name: æ‰€æœ‰-è‡ªåŠ¨
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use: []  # è‡ªåŠ¨åŒ¹é…æ‰€æœ‰èŠ‚ç‚¹

  - name: æ¸¯å°æ—¥æ–°éŸ©-è‡ªåŠ¨
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      # é¦™æ¸¯
      - å¹¿æ¸¯
      - HK
      - é¦™æ¸¯
      - "ğŸ‡­ğŸ‡°"
      # å°æ¹¾
      - å¹¿å°
      - TW
      - å°æ¹¾
      - "ğŸ‡¹ğŸ‡¼"
      # æ—¥æœ¬
      - å¹¿æ—¥
      - JP
      - æ—¥æœ¬
      - ä¸œäº¬
      - "ğŸ‡¯ğŸ‡µ"
      # æ–°åŠ å¡
      - å¹¿æ–°
      - SG
      - æ–°åŠ å¡
      - ç‹®åŸ
      - "ğŸ‡¸ğŸ‡¬"
      # éŸ©å›½
      - å¹¿éŸ©
      - KR
      - éŸ©å›½
      - é¦–å°”
      - "ğŸ‡°ğŸ‡·"

  - name: ç¾å›½-è‡ªåŠ¨
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - å¹¿ç¾
      - US
      - ç¾å›½
      - çº½çº¦
      - ç¡…è°·
      - "ğŸ‡ºğŸ‡¸"

  - name: å…¶ä»–åœ°åŒº-è‡ªåŠ¨
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - DE
      - FR
      - UK
      - å¾·å›½
      - è‹±å›½
      - æ¾³å¤§åˆ©äºš
      - "ğŸ‡©ğŸ‡ª"
      - "ğŸ‡¬ğŸ‡§"

  # --------------------------
  # 4. æœºåœºåˆ†ç»„ï¼ˆæŒ‰è®¢é˜…é¡ºåºGROUPIDï¼‰
  # --------------------------
  - name: Kuromis
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use: ["!!GROUPID=0"]  # ç¬¬1ä¸ªè®¢é˜…é“¾æ¥

  - name: TAG
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use: ["!!GROUPID=1"]  # ç¬¬2ä¸ªè®¢é˜…é“¾æ¥

  - name: BoostNet
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use: ["!!GROUPID=2"]  # ç¬¬3ä¸ªè®¢é˜…é“¾æ¥

  - name: ç‰›é€¼
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use: ["!!GROUPID=3"]  # ç¬¬4ä¸ªè®¢é˜…é“¾æ¥

# --------------------------
# è§„åˆ™é›†å¼•ç”¨ï¼ˆä½ çš„è‡ªå®šä¹‰+ä¸Šæ¸¸è§„åˆ™ï¼‰
# --------------------------
rule-providers:
  # 1. è‡ªå®šä¹‰ç›´è¿è§„åˆ™ï¼ˆå›½å†…æœåŠ¡/DDNS/è¿½è§…ï¼‰
  custom-direct:
    type: file
    path: custom_direct

  custom-acgcn:
    type: file
    path: acgcn

  custom-videocn:
    type: file
    path: videocn

  steamdownload:
    type: file
    path: steamdownload

  # 2. è‡ªå®šä¹‰ä»£ç†è§„åˆ™ï¼ˆUnity/åˆ®å‰Šå™¨/å­—å¹•ï¼‰
  custom-proxy:
    type: file
    path: custom_proxy

  custom-1:
    type: file
    path: custom_1

  custom-acg:
    type: file
    path: acg

  custom-AI:
    type: file
    path: AI

  custom-hanime1:
    type: file
    path: hanime1

  # 3. ä¸Šæ¸¸è§„åˆ™ï¼ˆSteam/Appleç­‰ï¼‰
  apple:
    type: file
    path: Apple
  bahamut:
    type: file
    path: Bahamut
  github:
    type: file
    path: GitHub
  global:
    type: file
    path: Global
  linkedin:
    type: file
    path: LinkedIn
  microsoft:
    type: file
    path: Microsoft
  origin:
    type: file
    path: Origin
  spotify:
    type: file
    path: Spotify
  steam:
    type: file
    path: Steam
  telegram:
    type: file
    path: Telegram
  tiktok:
    type: file
    path: TikTok
  twitter:
    type: file
    path: Twitter
  youtube:
    type: file
    path: YouTube
  # No-Resolveè§„åˆ™
  github-no-resolve:
    type: file
    path: GitHub_No_Resolve
  global-no-resolve:
    type: file
    path: Global_No_Resolve
  steam-no-resolve:
    type: file
    path: Steam_No_Resolve
  telegram-no-resolve:
    type: file
    path: Telegram_No_Resolve
  twitter-no-resolve:
    type: file
    path: Twitter_No_Resolve

# --------------------------
# è§„åˆ™åŒ¹é…é¡ºåºï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
# --------------------------
rules:
# 0. ç‰¹æ®Šä¼˜å…ˆè§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
  - RULE-SET,linkedin,Linkedin

# 1. æœ¬åœ°ç›´è¿è§„åˆ™ï¼ˆæ¬¡é«˜ä¼˜å…ˆçº§ï¼‰
  - RULE-SET,custom-direct,DIRECT
  - RULE-SET,custom-acgcn,å›½å†…ç›´è¿
  - RULE-SET,custom-videocn,å›½å†…ç›´è¿
  - RULE-SET,steamdownload,Steamä¸‹è½½
  - RULE-SET,custom-proxy,æµ·å¤–æµé‡
  - RULE-SET,custom-1,æµ·å¤–æµé‡
  - RULE-SET,custom-acg,æµ·å¤–æµé‡
  - RULE-SET,custom-AI,AI
  - RULE-SET,custom-hanime1,hanime1

  # 2. åœºæ™¯åŒ–ç­–ç•¥ç»„ï¼ˆæŒ‰éœ€ç»‘å®šè§„åˆ™é›†ï¼‰
  - RULE-SET,steam,Steam
  #- RULE-SET,steam-no-resolve,Steam
  - RULE-SET,telegram,æµ·å¤–ä¿¡æ¯
  #- RULE-SET,telegram-no-resolve,æµ·å¤–ä¿¡æ¯
  - RULE-SET,twitter,æµ·å¤–ä¿¡æ¯
  #- RULE-SET,twitter-no-resolve,æµ·å¤–ä¿¡æ¯
  - RULE-SET,gitHub,GitHub
  #- RULE-SET,github-no-resolve,GitHub
  - RULE-SET,bahamut,Bahamut
  - RULE-SET,spotify,Spotify
  - RULE-SET,origin,æµ·å¤–æ¸¸æˆ
  - RULE-SET,youtube,æµ·å¤–æµé‡
  - RULE-SET,tiktok,æµ·å¤–æµé‡
  - RULE-SET,apple,Apple
  - RULE-SET,microsoft,Microsoft
  - RULE-SET,global,æµ·å¤–æµé‡
  #- RULE-SET,global-no-resolve,æµ·å¤–æµé‡

  # 3. è‡ªå®šä¹‰ä»£ç†è§„åˆ™ï¼ˆUnity/åˆ®å‰Šå™¨ç­‰ï¼‰

  # 4. ä¸Šæ¸¸è§„åˆ™ï¼ˆè¡¥å……é—æ¼ï¼‰

  # 5. å…œåº•è§„åˆ™
  - MATCH,æ¼ç½‘ä¹‹é±¼
